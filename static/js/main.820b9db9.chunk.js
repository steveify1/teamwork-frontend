(this.webpackJsonpteamwork=this.webpackJsonpteamwork||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports={Card:"Card_Card__2NRZH",Title:"Card_Title__FA280",CardHeader:"Card_CardHeader__kCnJu",CardTag:"Card_CardTag__1Ednh",CardBody:"Card_CardBody__2m53P",CardText:"Card_CardText__2fvO4",CardImage:"Card_CardImage__3jcTw",CardFooter:"Card_CardFooter__2MDPl",Author:"Card_Author__8GSeO",AuthorImage:"Card_AuthorImage__3I33N",AuthorName:"Card_AuthorName__2ackM",TimeStamp:"Card_TimeStamp__3hyir"}},,,,function(e,t,a){e.exports={Tab:"NewPost_Tab__3ueDY",TabControls:"NewPost_TabControls__XeGay",TabControl:"NewPost_TabControl__br9Pf",Active:"NewPost_Active__2vMnC",TabBody:"NewPost_TabBody__1rWOg"}},,,function(e,t,a){e.exports={PostDetail:"PostDetail_PostDetail__2WSqP",PostImage:"PostDetail_PostImage__LJ7Yj",Header:"PostDetail_Header__1JsI-",PostTitle:"PostDetail_PostTitle__3WLoL",Body:"PostDetail_Body__1Njqf"}},function(e,t,a){e.exports={Feedback:"Feedback_Feedback__1pQd5",Default:"Feedback_Default__2Cfyd",Message:"Feedback_Message__2Eaxg",Show:"Feedback_Show__1WQ2V"}},,function(e,t,a){e.exports={Comment:"Comment_Comment___r-xa",Footer:"Comment_Footer__3-yHG",Author:"Comment_Author__3xBXG",AuthorImage:"Comment_AuthorImage__2D3pA",AuthorName:"Comment_AuthorName__3xtXS",Timestamp:"Comment_Timestamp__3wWsN"}},function(e,t,a){e.exports={InputField:"InputField_InputField__9Ohbr",Label:"InputField_Label__3jnGz",Control:"InputField_Control__FQksN"}},function(e,t,a){e.exports={LoginWrapper:"Login_LoginWrapper__2e0wD",Image:"Login_Image__bgf5k",Login:"Login_Login__1_UQw",Banner:"Login_Banner__20vHy",Brand:"Login_Brand__3FTpm"}},function(e,t,a){e.exports={LoginWrapper:"SignUp_LoginWrapper__AdC-f",Image:"SignUp_Image__Z2z6f",Login:"SignUp_Login__3iCle",Banner:"SignUp_Banner__3JugY",Brand:"SignUp_Brand__2NNIF"}},,function(e,t,a){e.exports={CommentBox:"Comments_CommentBox__27lBq",Input:"Comments_Input__3zetE"}},function(e,t,a){e.exports={Dropdown:"Dropdown_Dropdown__M1f83",MenuItems:"Dropdown_MenuItems__3tuu5",MenuIcon:"Dropdown_MenuIcon__1swp9"}},,,,,function(e,t,a){e.exports={Section:"Section_Section__1lSpG",SectionTitle:"Section_SectionTitle__3-pIG"}},function(e,t,a){e.exports={Loader:"Loader_Loader__Uv6Qf",loader:"Loader_loader__4A-P0",LoaderChild:"Loader_LoaderChild__1Vh9Y",loaderChild:"Loader_loaderChild__3zJ1H"}},function(e,t,a){e.exports={Button:"DeletePost_Button__22unj"}},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/standing-20.90aaa58f.svg"},function(e,t,a){e.exports=a.p+"static/media/bg4-2.ba8fda24.svg"},,,function(e,t,a){e.exports={DropdownItems:"DropdownItems_DropdownItems__3amMa"}},function(e,t,a){e.exports={DropdownItem:"DropdownItem_DropdownItem__NfDIl"}},function(e,t,a){},,function(e,t,a){e.exports=a(87)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(46),s=a.n(c),o=(a(60),a(8)),l=a(2),i=a.n(l),m=a(1),u=a.n(m),d=a(11),p=a(3),h=a(4),g=a(6),f=a(5),b=a(10),v=a(7),E=function(e){return e.children},_=a(23),k=a.n(_),y=function(e){return r.a.createElement("option",{value:e.value.toLowerCase()},e.children)},C=function(e){return r.a.createElement("select",{id:e.id,onBlur:e.blurred,onChange:e.changed,className:e.className,defaultValue:e.defaultValue},e.options.map((function(e,t){return r.a.createElement(y,{key:t,name:e.name,value:e.name.toLowerCase()},e.name)})))},N=function(e){return r.a.createElement("div",{className:k.a.InputField},e.name?r.a.createElement("label",{className:k.a.Label,htmlFor:e.id},e.name):null,function(e){var t=e.id,a=e.type,n=e.placeholder,c=e.options,s=r.a.createElement("input",{onChange:e.changed,onBlur:e.blurred,className:k.a.Control,id:t,type:a,placeholder:n,defaultValue:e.value});return{text:s,checkbox:s,file:s,radio:s,email:s,password:s,textarea:r.a.createElement("textarea",{onChange:e.changed,onBlur:e.blurred,className:"".concat(k.a.Control," ").concat(e.augmentedClassName),id:t,type:a,placeholder:n,defaultValue:e.value}),select:r.a.createElement(C,{changed:e.changed,blurred:e.blurred,id:t,className:k.a.Control,options:c,defaultValue:e.value})}[a]}(e))},O=(a(79),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.props.clicked||null,className:"".concat(this.props.styleType," btn btn-").concat(this.props.size)},this.props.children)}}]),t}(n.Component)),w=a(24),j=a.n(w),S=a(47),I=a.n(S),x=function(e){var t=""!==e.errorFeedback?r.a.createElement("p",{className:"error"},e.errorFeedback):null;return r.a.createElement("div",{className:j.a.LoginWrapper},r.a.createElement("div",{className:j.a.Banner}),r.a.createElement("div",{className:j.a.Image},r.a.createElement("img",{src:I.a,alt:"catch up with team mates"})),r.a.createElement("div",{className:j.a.Login},r.a.createElement("div",{className:j.a.Brand},r.a.createElement("h1",null,"TeamWork")),r.a.createElement("h2",null,"Find out what your teammates have been up to"),r.a.createElement("form",{onSubmit:e.submitted},t,r.a.createElement(N,{changed:e.changed,id:"email",type:"email",name:"email *"}),r.a.createElement(N,{changed:e.changed,id:"password",type:"password",name:"password *"}),r.a.createElement(O,{size:"full-width"},"sign in"))))},T=a(25),F=a.n(T),L=a(48),D=a.n(L),A=function(e){var t=""!==e.errorFeedback?r.a.createElement("p",{className:"error"},e.errorFeedback):null;return r.a.createElement("div",{className:F.a.LoginWrapper},r.a.createElement("div",{className:F.a.Banner},r.a.createElement("div",{className:F.a.Image},r.a.createElement("img",{src:D.a,alt:"catch up with team mates"}))),r.a.createElement("div",{className:F.a.Login},r.a.createElement("div",{className:F.a.Brand},r.a.createElement("h1",null,"New Employee Account")),r.a.createElement("p",null,"Set up a new user account. Account credentials will be sent to the email address provided. Please, ensure that the email is correct."),r.a.createElement("form",{onSubmit:e.submitted},t,r.a.createElement(N,{changed:e.changed,id:"firstName",type:"text",name:"first name *"}),r.a.createElement(N,{changed:e.changed,id:"lastName",type:"text",name:"last name *"}),r.a.createElement(N,{changed:e.changed,id:"email",type:"email",name:"email *"}),r.a.createElement(N,{changed:e.changed,id:"password",type:"password",name:"password *"}),r.a.createElement(N,{changed:e.changed,id:"confirmPassword",type:"password",name:"confirm password *"}),r.a.createElement(N,{changed:e.changed,id:"gender",type:"select",name:"gender *",options:[{name:"Select gender"},{name:"male"},{name:"female"}]}),r.a.createElement(N,{changed:e.changed,id:"jobRole",type:"select",name:"job role *",options:[{name:"Select job role"},{name:"Finance"},{name:"Communication"},{name:"Research"},{name:"Analytics"}]}),r.a.createElement(N,{changed:e.changed,id:"department",type:"select",name:"department *",options:[{name:"Select department"},{name:"Finance"},{name:"Communication"},{name:"Research"},{name:"Analytics"}]}),r.a.createElement(N,{changed:e.changed,id:"address",type:"text",name:"address *"}),r.a.createElement(O,{size:"full-width"},"create account"))))},P=function(){var e=JSON.parse(localStorage.getItem("curUser"));return e&&e.token},U=function(){var e=JSON.parse(localStorage.getItem("curUser"));return e&&e},H=(a(80),function(e){var t=U().jobRole;return r.a.createElement("nav",{id:"main-nav"},r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",{id:"logo"},"Teamwork")),r.a.createElement("div",{className:"search-area"},r.a.createElement("form",null,r.a.createElement(N,{type:"text",placeholder:"search posts, teammates"}))),r.a.createElement("div",{className:"menu main-menu"},r.a.createElement("p",{className:"hamburger"},"MENU"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",className:"active"},"Stories")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/post/new"},"New Post")),"admin"===t?r.a.createElement("li",null,r.a.createElement(o.b,{to:"/members"},"Add Member")):null,r.a.createElement("li",null,r.a.createElement(o.b,{onClick:e.triggerSignOut,to:"/"},"Logout")))))}),V=a(18),B=a(33),M=a.n(B),W=function(e){var t=void 0!==e.title;return r.a.createElement("section",{className:M.a.Section,id:e.id},t?r.a.createElement("h2",{className:M.a.SectionTitle},e.title):null,e.children)},R=a(28),J=a.n(R),z=a(51),G=a.n(z),Y=a(52),Q=a.n(Y),q=function(e){return r.a.createElement("li",{className:Q.a.DropdownItem},r.a.createElement(o.b,{to:e.to},e.children))},X=function(e){var t=e.items;return r.a.createElement("ul",{className:"".concat(G.a.DropdownItems," ").concat(e.augmentedClassName)},t.map((function(e,t){return r.a.createElement(q,{key:t,to:e.to},e.name)})))},Z=function(e){return r.a.createElement("div",{className:J.a.Dropdown},r.a.createElement("div",{className:J.a.MenuIcon}),r.a.createElement(X,{augmentedClassName:J.a.MenuItems,items:e.items}))},$=a(12),K=a.n($),ee=function(e){var t=void 0!==e.url?r.a.createElement("div",{className:K.a.CardImage},r.a.createElement("img",{src:e.url,alt:""})):null,a=void 0!==e.article?r.a.createElement("div",{className:K.a.CardText},r.a.createElement("p",null,e.article)):null,n=new Date(e.createdOn),c="".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear()),s=void 0!==e.url?"gifs":"articles",l="".concat(s,"/").concat(e.id);return r.a.createElement("article",{id:e.id,className:K.a.Card},r.a.createElement("section",{className:K.a.CardHeader},r.a.createElement("div",{className:K.a.UserAndTimeStamp},r.a.createElement(o.b,{to:"/users/".concat(e.authorId)},r.a.createElement("div",{className:K.a.Author},r.a.createElement("div",{className:K.a.AuthorImage},r.a.createElement("img",{src:e.avatar,alt:e.authorName})),r.a.createElement("span",{className:K.a.AuthorName},e.authorName))),r.a.createElement("div",{className:K.a.TimeStamp},c)),r.a.createElement(Z,{items:[{name:"report",to:"/".concat(s,"/").concat(e.id,"/report")},{name:"edit",to:"/".concat(s,"/").concat(e.id,"/edit")},{name:"delete",to:"/".concat(s,"/").concat(e.id,"/delete")}]})),r.a.createElement(o.b,{to:l},r.a.createElement("section",{className:K.a.CardBody},r.a.createElement("h3",{className:K.a.Title},e.title),t,a)),r.a.createElement("section",{className:K.a.CardFooter},r.a.createElement("p",{className:K.a.CardTag},"trending")))},te=a(53),ae=a.n(te),ne=function(e){return r.a.createElement("div",{className:ae.a.Cards},e.data.map((function(e,t){return r.a.createElement(ee,{key:t,id:e.id,url:e.url,title:e.title,article:e.article,authorId:e.authorId,authorName:"".concat(e.firstName," ").concat(e.lastName),avatar:e.avatar,createdOn:e.createdOn})})))},re=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.get("/feed").then((function(t){var a=t.data.data;console.log(a),e.setState({data:a})})).catch((function(e){return console.log("hello ".concat(e))}))}},{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement(ne,{data:this.state.data}))}}]),t}(n.Component),ce=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement(W,{id:"posts",title:"Recent Posts"},r.a.createElement(re,null)))}}]),t}(n.Component),se=a(54),oe=a(34),le=a.n(oe),ie=function(){return r.a.createElement("div",{className:le.a.Loader},r.a.createElement("div",{className:le.a.LoaderChild}))},me=a(16),ue=a.n(me);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var pe=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).fieldValues={},a.switchActiveForm=function(e){if(a.state.activeTab!==e.target.id){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){Object(se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state),n=e.target.parentElement.firstElementChild;n.classList.contains(ue.a.Active)&&n.classList.remove(ue.a.Active),t.activeTabControl&&t.activeTabControl.classList.remove(ue.a.Active),e.target.classList.add(ue.a.Active),a.setState({activeTab:e.target.id,prevActiveTab:t.activeTab,activeTabControl:e.target}),a.cleanStoredFieldValues()}},a.setFieldValue=function(e){var t=e.target,n=t.id,r=t.value,c=t.files;"file"!==t.type?a.fieldValues[n]=r:a.fieldValues[n]=c[0]},a.submitPostHandler=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.isEditingPost){e.next=5;break}return e.next=4,a.updatePostHandler();case 4:return e.abrupt("return");case 5:return e.next=7,a.createPostHandler();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createPostHandler=Object(d.a)(u.a.mark((function e(){var t,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="gif"===a.state.activeTab?"gifs":"articles",e.prev=1,"gifs"!==t){e.next=12;break}return r={"Content-Type":"multipart/form-data"},(c=new FormData).append("image",a.fieldValues.image),c.append("title",a.fieldValues.title),e.next=9,i.a.post("/".concat(t),c,{headers:r});case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,i.a.post("/".concat(t),a.fieldValues);case 14:n=e.sent;case 15:console.log(n),a.setState({redirect:!0}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),s=e.t0.response,console.log(s);case 23:case"end":return e.stop()}}),e,null,[[1,19]])}))),a.updatePostHandler=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.postToEdit,Object.keys(a.fieldValues).forEach((function(e){t[e]!==a.fieldValues[e]&&(t[e]=a.fieldValues[e])})),console.log(t),e.prev=3,e.next=6,i.a.patch("/articles/".concat(a.postId),t);case 6:n=e.sent,console.log(n),a.setState({redirect:!0}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),r=e.t0.response,console.log(r);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),a.isEditingPost=e.location.pathname.endsWith("edit");var n=a.props.location.pathname.split("/");return a.postId=1*n[2],a.state={activeTab:"article",prevActiveTab:null,activeTabControl:null,postToEdit:{},redirect:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(){return this.state.activeTab!==this.state.prevActiveTab}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEditingPost){e.next=7;break}return t="/articles/".concat(this.postId),e.next=4,i.a.get(t);case 4:a=e.sent,n=a.data.data,this.setState({postToEdit:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getActiveForm",value:function(){return"article"===this.state.activeTab?r.a.createElement(E,null,r.a.createElement(N,{blurred:this.setFieldValue,type:"select",id:"category",name:"category",options:[{name:this.state.postToEdit.category||"Select category"},{name:"Finance"},{name:"Communication"},{name:"Research"},{name:"Analytics"}]}),r.a.createElement(N,{blurred:this.setFieldValue,type:"textarea",id:"article",name:"article",value:this.state.postToEdit.article})):r.a.createElement(N,{blurred:this.setFieldValue,type:"file",id:"image",name:"choose a gif file"})}},{key:"cleanStoredFieldValues",value:function(){"gif"===this.state.activeTab&&this.fieldValues.article&&delete this.fieldValues.article,"article"===this.state.activeTab&&this.fieldValues.gif&&delete this.fieldValues.gif}},{key:"renderRedirect",value:function(){if(this.state.redirect)return r.a.createElement(V.a,{to:"/"})}},{key:"render",value:function(){return r.a.createElement(E,null,P()?null:r.a.createElement(V.a,{to:"/"}),r.a.createElement(W,{title:this.isEditingPost?"Update Article":"Create A Post"},this.renderRedirect(),!Object.keys(this.state.postToEdit).length&&this.isEditingPost?r.a.createElement(ie,null):r.a.createElement("div",{className:ue.a.Tab},r.a.createElement("div",{className:ue.a.TabControls},r.a.createElement("div",{onClick:this.switchActiveForm,id:"article",className:"".concat(ue.a.TabControl," ").concat(ue.a.Active," active")},"article"),this.isEditingPost?null:r.a.createElement("div",{onClick:this.switchActiveForm,id:"gif",className:"".concat(ue.a.TabControl)},"gif")),r.a.createElement("div",{className:ue.a.TabBody},r.a.createElement("form",null,r.a.createElement(N,{blurred:this.setFieldValue,type:"text",id:"title",name:"title",value:this.state.postToEdit.title}),this.getActiveForm(),r.a.createElement("input",{type:"submit",className:"btn",onClick:this.submitPostHandler,value:"Post"}))))))}}]),t}(n.Component),he=Object(V.f)(pe),ge=a(29),fe=a(27),be=a.n(fe),ve=a(22),Ee=a.n(ve),_e=function(e){return r.a.createElement("article",{className:Ee.a.Comment},r.a.createElement("p",null,e.children),r.a.createElement("div",{className:Ee.a.Footer},r.a.createElement(o.b,{to:"/users/".concat(e.authorId)},r.a.createElement("div",{className:Ee.a.Author},r.a.createElement("div",{className:Ee.a.AuthorImage},r.a.createElement("img",{src:e.avatar,alt:e.authorName})),r.a.createElement("span",{className:Ee.a.AuthorName},e.authorName))),r.a.createElement("p",{className:Ee.a.Timestamp},e.timestamp)))},ke=function(e){return r.a.createElement("div",{className:be.a.Comments},r.a.createElement("div",{className:be.a.CommentBox},r.a.createElement(N,{id:"comment",blurred:e.blurred,augmentedClassName:be.a.Input,type:"textarea"}),r.a.createElement(O,{clicked:e.clicked},"Comment")),r.a.createElement("div",{className:be.a.CommentList},e.comments.map((function(e,t){var a=e.createdOn,n=new Date(a),c="".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear());return c+="   ".concat(n.getHours(),":").concat(n.getMinutes()),r.a.createElement(_e,{key:t,timestamp:c,authorId:e.authorId,authorName:"".concat(e.firstName," ").concat(e.lastName),avatar:e.avatar},e.comment)}))))},ye=a(19),Ce=a.n(ye),Ne=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={commentInputElement:null,post:null,comments:[],postedComment:null},a.commentFieldValue={},a.pathName=a.props.location.pathname,a.getCommentValue=a.getCommentValue.bind(Object(b.a)(a)),a.postComment=a.postComment.bind(Object(b.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(this.props.location.pathname);case 2:t=e.sent,a=t.data.data,this.setState({post:a,comments:Object(ge.a)(a.comments)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCommentValue",value:function(e){var t=e.target,a=t.id,n=t.value;this.commentFieldValue[a]=n,this.setState({commentInputElement:t})}},{key:"postComment",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.props),!Object.keys(this.commentFieldValue).length){e.next=17;break}return console.log("posting"),e.prev=3,e.next=6,i.a.post("".concat(this.pathName,"/comments"),this.commentFieldValue);case 6:t=e.sent,a=t.data.data,n=Object(ge.a)(this.state.comments),this.setState({comments:[a].concat(Object(ge.a)(n))}),this.state.commentInputElement.value="",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log(this.state.comments);var e=this.state.post;if(!e)return r.a.createElement(ie,null);var t=e.imageUrl?r.a.createElement("div",{className:Ce.a.PostImage},r.a.createElement("img",{src:e.imageUrl,alt:e.title})):null,a=e.article?r.a.createElement("div",{className:Ce.a.PostText},r.a.createElement("p",null,e.article)):null;return r.a.createElement("div",{className:Ce.a.PostDetail},r.a.createElement("header",{className:Ce.a.Header},r.a.createElement("h1",{className:Ce.a.PostTitle},e.title)),r.a.createElement("section",{className:Ce.a.Body},t,a),r.a.createElement(W,{title:"Comments (".concat(this.state.comments.length,")"),className:Ce.a.PostComments},r.a.createElement(ke,{blurred:this.getCommentValue,clicked:this.postComment,comments:this.state.comments})))}}]),t}(n.Component),Oe=Object(V.f)(Ne),we=a(35),je=a.n(we),Se=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).deletePostHandler=a.deletePostHandler.bind(Object(b.a)(a)),a.cancelDeleteHandler=a.cancelDeleteHandler.bind(Object(b.a)(a));var n=a.props.location.pathname.split("/");return a.postType=n[1],a.postId=1*n[2],a.state={redirect:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"deletePostHandler",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.delete("/".concat(this.postType,"/").concat(this.postId));case 3:a=e.sent,console.log(a),this.setState({redirect:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response,console.log(n);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelDeleteHandler",value:function(){this.setState({redirect:!0})}},{key:"render",value:function(){return r.a.createElement(W,{title:"Delete Post"},this.state.redirect?r.a.createElement(V.a,{to:"/"}):null,r.a.createElement("p",null,"Are you sure you want to delete this post?"),r.a.createElement("div",{className:je.a.Buttons},r.a.createElement(O,{styleType:"".concat(je.a.Button," dead"),clicked:this.cancelDeleteHandler},"Cancel"),r.a.createElement(O,{styleType:"danger",clicked:this.deletePostHandler},"Delete")))}}]),t}(n.Component),Ie=a(20),xe=a.n(Ie),Te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={showFeedBack:!1},a.feedBackType=a.props.type||xe.a.Default,a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getFeedback",value:function(){return r.a.createElement("div",{className:"".concat(xe.a.Feedback," ").concat(this.props.message?xe.a.Show:""," ").concat(this.feedBackType)},r.a.createElement("p",{className:xe.a.Message},this.props.message))}},{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement("div",{className:"".concat(xe.a.Feedback," ").concat(this.props.message?xe.a.Show:""," ").concat(this.feedBackType)},r.a.createElement("p",{className:xe.a.Message},this.props.message)))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).signUpDetails={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",gender:"",jobRole:"",department:"",address:""},a.state={errorFeedback:"",feedback:""},a.getInputValueHandler=a.getInputValueHandler.bind(Object(b.a)(a)),a.signUpHandler=a.signUpHandler.bind(Object(b.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getInputValueHandler",value:function(e,t){var a=e.target;t[a.id]=a.value}},{key:"signUpHandler",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),e.prev=2,console.log(this.signUpDetails),e.next=6,i.a.post("/auth/create-user",this.signUpDetails);case 6:a=e.sent,t.target.reset(),this.setState({isUserLoggedIn:!0,feedback:a.data.data.message,errorFeedback:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.response?this.setState({errorFeedback:e.t0.response.data.error}):this.setState({feedback:"Looks like you are offline"});case 14:window.scrollTo(0,0);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(W,null,r.a.createElement(A,{errorFeedback:this.state.errorFeedback,changed:function(t){return e.getInputValueHandler(t,e.signUpDetails)},submitted:this.signUpHandler}),r.a.createElement(Te,{message:this.state.feedback}))}}]),t}(n.Component),Le=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(Fe,null)}}]),t}(n.Component),De=function(e){return r.a.createElement(E,null,r.a.createElement(V.b,{path:"/",exact:!0,component:ce}),r.a.createElement(V.b,{path:"/post/new",exact:!0,component:he}),r.a.createElement(V.b,{path:"/gifs/([0-9]+)",exact:!0,component:Oe}),r.a.createElement(V.b,{path:"/articles/([0-9]+)",exact:!0,component:Oe}),r.a.createElement(V.b,{path:"/articles/([0-9]+)/edit",exact:!0,component:he}),r.a.createElement(V.b,{path:"/(gifs|articles)/([0-9]+)/delete",exact:!0,component:Se}),r.a.createElement(V.b,{path:"/members",exact:!0,component:Le}))},Ae=function(e){var t=P();return console.log(t),t&&(i.a.defaults.headers={token:t}),r.a.createElement(E,null,r.a.createElement(H,{triggerSignOut:e.signOutHandler}),r.a.createElement("main",null,r.a.createElement(De,{isUserLoggedIn:e.isUserLoggedIn})))},Pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loginDetails={email:"",password:""},a.signUpDetails={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",gender:"",jobRole:"",department:"",address:""},a.state={isLoginScreenActive:!0,userIsLoggedIn:!1,errorFeedback:""},a.getInputValueHandler=a.getInputValueHandler.bind(Object(b.a)(a)),a.loginHandler=a.loginHandler.bind(Object(b.a)(a)),a.signUpHandler=a.signUpHandler.bind(Object(b.a)(a)),a.signOutHandler=a.signOutHandler.bind(Object(b.a)(a)),a.toggleLoginAndSignUpScreen=a.toggleLoginAndSignUpScreen.bind(Object(b.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.checkCredentials()}},{key:"checkCredentials",value:function(){this.getCredentials()&&this.setState({isUserLoggedIn:!0})}},{key:"storeCredentials",value:function(e){localStorage.setItem("curUser",JSON.stringify(e))}},{key:"getCredentials",value:function(){return JSON.parse(localStorage.getItem("curUser"))}},{key:"clearCredentials",value:function(){localStorage.removeItem("curUser")}},{key:"getInputValueHandler",value:function(e,t){var a=e.target;t[a.id]=a.value}},{key:"loginHandler",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i.a.post("/auth/signin",this.loginDetails);case 4:a=e.sent,console.log(a.data.data),this.storeCredentials(a.data.data),this.setState({isUserLoggedIn:!0,errorFeedback:""}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n=e.t0.response,this.setState({errorFeedback:n.data.error});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signUpHandler",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log(this.signUpDetails),e.next=5,i.a.post("/auth/create-user",this.signUpDetails);case 5:a=e.sent,this.storeCredentials(a.data.data),this.setState({isUserLoggedIn:!0,errorFeedback:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response?this.setState({errorFeedback:e.t0.response.data.error}):this.setState({errorFeedback:"Looks like you are offline"});case 13:window.scrollTo(0,0);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signOutHandler",value:function(){this.clearCredentials(),this.setState({isUserLoggedIn:!1})}},{key:"toggleLoginAndSignUpScreen",value:function(){var e=this.state.isLoginScreenActive;this.setState({errorFeedback:"",isLoginScreenActive:!e})}},{key:"renderLoginOrSignUpScreen",value:function(){return this.state.isLoginScreenActive?this.renderLoginScreen():this.renderSignUpScreen()}},{key:"renderLoginScreen",value:function(){var e=this;return r.a.createElement(x,{errorFeedback:this.state.errorFeedback,changed:function(t){return e.getInputValueHandler(t,e.loginDetails)},submitted:this.loginHandler,toggleScreen:this.toggleLoginAndSignUpScreen})}},{key:"renderSignUpScreen",value:function(){var e=this;return r.a.createElement(A,{errorFeedback:this.state.errorFeedback,changed:function(t){return e.getInputValueHandler(t,e.signUpDetails)},submitted:this.signUpHandler,toggleScreen:this.toggleLoginAndSignUpScreen})}},{key:"renderAppCore",value:function(){return r.a.createElement(E,null,r.a.createElement(Ae,{isUserLoggedIn:this.state.userIsLoggedIn,signOutHandler:this.signOutHandler}))}},{key:"render",value:function(){return r.a.createElement(E,null,this.state.isUserLoggedIn?this.renderAppCore():this.renderLoginOrSignUpScreen(),";")}}]),t}(n.Component);a(86);i.a.defaults.baseURL="https://floating-lowlands-92074.herokuapp.com/api/v1";var Ue=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Pe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[55,1,2]]]);
//# sourceMappingURL=main.820b9db9.chunk.js.map